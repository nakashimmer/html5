<!DOCTYPE html>
<meta charset=utf-8>
<meta name="viewport" content="width=500">
<title>Swiss rail way Clock created by nakashimmer | Canvasina is HTML5 art scripting gallery</title>
<meta name=description content="Swiss rail way Clock created by nakashimmer | Canvasina.com is HTML5 art scripting gallery">
<link href="../canvasina/canvasina.css" rel=stylesheet>
<!--[if lt IE 9]>
<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<!-- for  facebook like button -->
<div id="fb-root"></div>
<script>
(function(d, s, id) { var js, fjs = d.getElementsByTagName(s)[0];if(d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;js.src = "//connect.facebook.net/ja_JP/all.js#xfbml=1&appId=141558212660855";
  fjs.parentNode.insertBefore(js, fjs);}(document, 'script', 'facebook-jssdk'));
</script>
<!-- facebook like button -->

<section id=wrap>
	
	<section>
		<canvas id=canvasina width=500 height=450>
			Sorry, Your browser is not chrome ,safari.
			<img src=http://canvasina.com/img/icon.png height=225><br>
			<img src=http://canvasina.com/galleryImg/nakashimmer_02.png height=225>
		</canvas>
	
	</section>

	<header>
		Swiss rail way Clock
	</header>

	<footer>
		<a href="http://www.facebook.com/nakashimmer" target=_blank>created by Shunji Nakashima</a>
		<a href="/" ><h1>Canvasina</h1></a>
		<a id=share name="fb_share" type="button_count" share_url="http://canvasina.com/gallery/nakashimmer_02.html"></a>
		<script src="http://static.ak.fbcdn.net/connect.php/js/FB.Share" type="text/javascript"></script>
		<div id=like style="" class="fb-like" data-href="http://canvasina.com/gallery/nakashimmer_02.html" data-width="100" 
		data-colorscheme="dark" data-layout="button_count" data-show-faces="false" data-send="false"></div>
		
	</footer>	
</section>

<script src="../canvasina/canvasina.js"></script>
<script>
window.onload=function(){
 setInterval(anime,50);
}
function sin(a){return Math.sin(a*2*pi);}
function cos(a){return Math.cos(a*2*pi);}
function shadow(color,offset,blur){
 c.shadowColor = color;
 c.shadowOffsetX = offset;
 c.shadowOffsetY = offset;
 c.shadowBlur = blur;
}

function anime(){
 $cls(white);
 shadow("black",0,0);

//seconds
 for(var s=0;s<=60;s++){
 c.lineWidth="2";
 var ds=s/60;
 $2( 250+sin(ds)*143,200-cos(ds)*143,
       250+sin(ds)*130,200-cos(ds)*130,
       '#444');
}
//hours
for(var h=0;h<=12;h++){
 c.lineWidth="12";
 var dh=h/12;
 $2( 250+sin(dh)*145,200-cos(dh)*145,
       250+sin(dh)*115,200-cos(dh)*115,
       '#444');
}
//get h,m
 var today=new Date();
 var hour=today.getHours();
 var min=today.getMinutes();
 var sec=today.getSeconds()+today.getMilliseconds()/1000;
 if(0<=sec && sec<0.5 ){min-=1;}
 if(0<=sec && sec<1 ){sec=0;}
 shadow("#333",2,4);

//hour pin
 c.lineWidth="10";
 var dhp= (hour+min/60)/12
 $2( 250+sin(dhp)*83,200-cos(dhp)*83,
       250-sin(dhp)*30,200+cos(dhp)*30,
       '#333');
//min pin
 c.lineWidth="10";
 var dmp= min/60
 $2( 250+sin(dmp)*130,200-cos(dmp)*130,
       250-sin(dmp)*30,200+cos(dmp)*30,
       '#333');
//sec pin
 c.lineWidth="5";
 var dsp=sec/60
 $2( 250+sin(dsp)*100,200-cos(dsp)*100,
       250-sin(dsp)*30,200+cos(dsp)*30,
       '#c00');
 $1(250+sin(dsp)*100,200-cos(dsp)*100,13,'#c00');
 shadow("white",0,0);
 c.lineWidth="3";
 $1(250,200,5,'#c00');   
}
</script>

<script type="text/javascript">
if (window==parent){
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-3233827-64']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
}
</script>
