var bgm=new Audio("http://springreen.jp/INDEX/themes/ShunsuiKobo/bg/harunoumi.mp3");
if(canvas.getBoundingClientRect().left>0){
bgm.play();
}
var count = 0;
function nami(x,y){
 c.globalAlpha=1;
 $1(x,y,75,"darkgreen");
 $1(x,y,70,"green");
 $1(x,y,50,"darkgreen");
 $1(x,y,30,"green");
}
setInterval(anime,50);

function anime(){
 count = count+1;
 var count2=1000;
 if(count < 1000){count2=count;}

 var gra = c.createLinearGradient(0,0,0,500);	
  gra.addColorStop(0,"skyblue");
  gra.addColorStop(1,"white");
 c.globalAlpha=1;
 c.fillStyle = gra;
 c.fillRect(0,0,500,500);

// sun
 c.globalAlpha = 1;
 c.beginPath();
 c.globalAlpha = count2/1000;
 $1(350,300-count2/5,60,red);

//cloud
 c.globalAlpha = 0.4;
 c.beginPath();
 c.moveTo(0,200);
 c.lineTo(100,200);
 c.arc(100,225,25,Math.PI*3/2,Math.PI/2,false);
 c.lineTo(400,250);
 c.arc(400,275,25,Math.PI*3/2,Math.PI/2,false);
 c.lineTo(500,300);
 c.lineTo(500,400);
 c.lineTo(0,400);
 c.closePath();
 c.fillStyle="yellow";
 c.fill();

// fuji
 c.globalAlpha = 1;
 c.beginPath();	
 c.moveTo(220,200);
 c.lineTo(0,400);
 c.lineTo(500,400);
 c.lineTo(280,200);
 c.closePath();

 var gra = c.createLinearGradient(0,250,0,400);
  gra.addColorStop(0,"white");
  gra.addColorStop(1,"darkblue");
 c.fillStyle=gra;	
 c.fill();

// nami
 nami( 50,430+Math.sin(count/40+Math.PI/3*0)*10);
 nami(150,430+Math.sin(count/40+Math.PI/3*1)*10);
 nami(250,430+Math.sin(count/40+Math.PI/3*2)*10);
 nami(350,430+Math.sin(count/40+Math.PI/3*3)*10);
 nami(450,430+Math.sin(count/40+Math.PI/3*4)*10);
 nami(    0,470+Math.cos(count/40+Math.PI/3*0)*10);
 nami(100,470+Math.cos(count/40+Math.PI/3*1)*10);
 nami(200,470+Math.cos(count/40+Math.PI/3*2)*10);
 nami(300,470+Math.cos(count/40+Math.PI/3*3)*10);
 nami(400,470+Math.cos(count/40+Math.PI/3*4)*10);
 nami(500,470+Math.cos(count/40+Math.PI/3*5)*10);
 nami(  50,510+Math.sin(count/40+Math.PI/3*0)*10);
 nami(150,510+Math.sin(count/40+Math.PI/3*1)*10);
 nami(250,510+Math.sin(count/40+Math.PI/3*2)*10);
 nami(350,510+Math.sin(count/40+Math.PI/3*3)*10);
 nami(450,510+Math.sin(count/40+Math.PI/3*4)*10);

// message
c.globalAlpha = count2/1000;
 $txt("2015", 80,100, 40,white, 'serif');
 $txt("Happy New HTML5 Year!", 250,150, 35,white, 'serif');
 $txt("音素材提供: http://www.tam-music.com/",300,440,10,white,'serif');
}