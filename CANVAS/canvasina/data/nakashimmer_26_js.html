var count=0;

function triangle(x,y,x1,y1,x2,y2)
{
	c.beginPath();
	c.moveTo(x,y);
	c.lineTo(x1,y1);
	c.lineTo(x2,y2);
	c.closePath();
	
	c.fillStyle="green";
	c.globalAlpha=1;
	c.fill();
}
var yuki = new Array();
for(i=0;i<1000;i++)
{var ichi = Math.floor(Math.random()*500);
	yuki[i]={x:ichi,y:-1000+i};
}

setInterval(anime,100);

function anime(){
	var g = c.createLinearGradient(0,0,0,500);
	g.addColorStop(0,"red");
	g.addColorStop(1,"white");
	c.fillStyle=g;
	c.fillRect(0,0,500,500);
	
	triangle(250,50,200,100,300,100);
	triangle(250,75,150,175,350,175);
	triangle(250,100,100,300,400,300);
	
	c.fillStyle = "brown";
	c.fillRect(200,300,100,100);
	
	for(i=0;i<1000;i++)
	{
		c.beginPath();
		c.arc(yuki[i].x,yuki[i].y,3,0,2*Math.PI,true);
		c.fillStyle="white";
		c.fill();
		var chira = Math.floor(Math.random()*5)-2;
		yuki[i].x = yuki[i].x + chira;
		chira = Math.floor(Math.random()*5)-2;
		yuki[i].y = yuki[i].y + 1 + chira/2;
		
		
		}
	
	count++;
	
	c.beginPath();
	c.globalAlpha = count/1000;
	c.arc(250,50,40,0,2*Math.PI,false);
	c.fillStyle="yellow";
	c.fill();
	
	c.fillStyle="white";
	c.font="50px arial";
	c.fillText("Merry Xmas!",130,200);
	c.globalAlpha=1;
	
	
	
	}
