canvas.style.backgroundColor="pink";

var img=new Image();
img.src="https://fbcdn-sphotos-a-a.akamaihd.net/hphotos-ak-xpf1/v/t1.0-9/995082_907498802611556_8002582851858497463_n.jpg?oh=790044ece761893ceee61b2f17574f44&oe=548290F1&__gda__=1418671645_89995048b98ccee3723f585db5bec4ea";
setInterval(anime,50);

function anime(){
 c.clearRect(0,0,canvas.width,canvas.height);
 dish();
 sponji();
 ichigo(250,100,0);
 ichigo(130,140,-30);
 ichigo(370,140,30); 
 card();
 ichigo(170,220,-20);
 ichigo(330,220,20);
}

function card(){
c.save();

c.drawImage(img,0,0,100,100);
rosoku(-100,"white");
rosoku(-60,"#aaa");
rosoku(-20,"skyblue");
rosoku(20,"lightgreen");
rosoku(60,"red");
rosoku(100,"green");
c.restore();
}
var f=0;
function rosoku(x,color){
c.beginPath();
c.lineWidth=10;
c.moveTo(x,-50);
c.lineTo(x,-70);
c.strokeStyle=color;
c.stroke();
c.moveTo(x+Math.floor(Math.random()*3)-1+f,-85);
c.arc(x,-75,5,0,pi,false);
c.closePath();
c.fillStyle="yellow";
c.fill();
if(f!=0){f-=Math.abs(f)/f;}
}

function dish(){
 c.save();
 c.translate(250,300);
 c.scale(1,0.5);
 c.beginPath();
 c.arc(0,0,250,0,2*pi,false);
 c.closePath();
 c.fillStyle="white";
 c.fill();
 c.lineWidth=5;
 c.strokeStyle="skyblue";
 c.stroke();
 c.restore();
}

function sponji(){
 c.save();
 c.translate(250,300);
 c.scale(1,0.5);
 c.beginPath();
 c.arc(0,0,200,0,pi,false);
 c.arc(0,-100,200,pi,0,true);
 c.closePath();
 c.fillStyle="#bb8855";
 c.fill();
 c.restore();

 c.save();
 c.translate(250,300);
 c.scale(1,0.5);
 c.beginPath();
 c.arc(0,-150,200,0,pi,false);
 c.arc(0,-250,200,pi,0,true);
 c.closePath();
 c.fillStyle="#bb8855";
 c.fill();
 c.restore();

 c.save();
 c.translate(250,300);
 c.scale(1,0.5);
 c.beginPath();
 c.arc(0,-250,200,0,2*pi,false);
 c.closePath();
 c.fillStyle="white";
 c.fill();
 c.restore();
}


function ichigo(x,y,katamuki){
c.save();
c.translate(x,y);
c.rotate(katamuki/180*Math.PI);
c.beginPath();
c.moveTo(-50,0);
c.bezierCurveTo(-30,-130,30,-130,50,0);
c.bezierCurveTo(50,50,-50,50,-50,0);
c.closePath();
c.fillStyle="red";
c.fill();
c.restore();
}

var x=0,xx=-1;
canvas.addEventListener("mousemove",function(e){
var rect=e.target.getBoundingClientRect();
x=e.clientX-rect.left;
if(xx==-1)xx=x;
f=x-xx;
xx=x;
})
