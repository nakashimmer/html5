canvasina.style.background="-webkit-gradient(linear,left top,left bottom,from(red),to(blue))";
function r(i){return Math.floor(Math.random()*i);}
	
var pi=Math.PI;
var frame=0;
var color=["green","yellow","brown","pink","blue","orange"];

var momiji = new Array(color.length);
for(var i=0;i<momiji.length;i++){
	momiji[i]={
		x:r(500),
		y:r(500),
		color:color[r(3)],	//葉っぱの色を決める
		katamuki:r(360),
		dy:1+r(3),
		add:0,
		frame:0
	};
}
	
function yubi(){
	c.beginPath();
	c.bezierCurveTo(0,0,-50,-75,0,-150);
	c.bezierCurveTo(0,-150,50,-75,0,0);
	c.closePath();
	c.fill();
}

setInterval(anime,40);
	
function anime(){
	c.clearRect(0,0,canvas.width,canvas.height);
	for(var i=0;i<momiji.length;i++){
		//i番目の葉っぱ
		c.save();
		c.translate(momiji[i].x,momiji[i].y);
		c.rotate(momiji[i].frame/360*pi+momiji[i].katamuki);
		c.fillStyle=color[i];
	
			//葉っぱ
			c.save();yubi();c.restore();
			c.save();c.rotate(0.15*pi);c.scale(0.8,0.8);yubi();c.restore();
			c.save();c.rotate(-0.15*pi);c.scale(0.8,0.8);yubi();c.restore();
			c.save();c.rotate(-0.30*pi);c.scale(0.7,0.75);yubi();c.restore();   
			c.save();c.rotate(0.30*pi);c.scale(0.7,0.75);yubi();c.restore();
			c.save();c.rotate(-0.50*pi);c.scale(0.3,0.4);yubi();c.restore();
			c.save();c.rotate(0.50*pi);c.scale(0.3,0.4);yubi();c.restore();
	
			//茎
			c.save();
			c.beginPath();
			c.moveTo(0,0);
			c.quadraticCurveTo(0,50,-30,50);
			c.lineWidth=10;
			c.strokeStyle=color[i];
			c.stroke();
			c.restore();
		c.restore();

		//移動計算
		momiji[i].y +=momiji[i].dy;
		if(momiji[i].y>600){
			momiji[i].y=-200+r(50);
			momiji[i].x=r(500);
			momiji[i].dy=2+r(1);
		}
		momiji[i].frame+=momiji[i].add;
	}
	
}

canvas.addEventListener("mousemove",kaiten);
function kaiten(e){
	var rect=e.target.getBoundingClientRect();
	var mouse={
		x:e.clientX-rect.left,
		y:e.clientY-rect.top
	}
	for(var i=0;i<momiji.length;i++){
		if(Math.pow(
		Math.pow(momiji[i].x-mouse.x,2)+Math.pow(momiji[i].y-mouse.y,2),1/2)<30){
			momiji[i].add+=0.1;
		}
	}
}