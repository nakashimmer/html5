var sound=new Audio("http://bit.ly/14t6smY");
if($("canvasina").getBoundingClientRect().left>0){
sound.play();
}
setInterval(anime,50);

function anime(){
    c.globalAlpha=0.05;
    c.fillStyle="black";
    c.fillRect(0,0,canvas.width,canvas.height);
    if(Math.random()<0.05){
        c.globalAlpha=1;
        sakura();
    }
c.globalAlpha=1;
    c.fillStyle="gray";
    c.fillText("music : TAM MUSIC FACTORY http://www.tam-music.com/",10,30);
}

function sakura(){
    c.save();
    c.translate(100+Math.random()*(canvas.width-200),100+Math.random()*(canvas.height-200));
    var scale=Math.random()/2+0.5;
    c.scale(scale,scale);
    c.rotate(Math.random()*2*Math.PI);
    hanabira();
    hanabira();
    hanabira();
    hanabira();
    hanabira();
    c.restore();

}

function hanabira(){
    c.rotate(2*Math.PI/5);
    c.beginPath();
    c.moveTo(0,0);
    c.quadraticCurveTo(-50,-50,-5,-100);
    c.lineTo(0,-90);
    c.lineTo(5,-100);
    c.quadraticCurveTo(50,-50,0,0);                        
    c.closePath();

    var g=c.createLinearGradient(0,-100,0,0);
    g.addColorStop(0.2,"pink");
    g.addColorStop(0.6,"white");
    g.addColorStop(0.8,"white");
    g.addColorStop(1,"pink");
    c.fillStyle=g;
        
    c.fill();
    
    c.fillStyle="yellow";
    c.fillRect(-2,-10,4,4);



}

