var pi=Math.PI;

setInterval(anime,500);

function anime(){
 c.fillStyle="white";
 c.fillRect(0,0,500,500); 
 f=Math.random();
 if(f<0.1){o();}
 c.save();
 c.translate(170,170);
 shinchan();
 c.restore(); 
}
function shinchan(){
 rinkaku();
 hair();
 if(f>0.7){
  c.save();
  c.translate(0,-5);
 }
 mayuge();
  if(f>0.7){
  c.restore();
 }
 mimi();
 futae();
 me();
 kuchi();
}

function o(){
 c.fillStyle="#444";
 c.font="300px sans-serif";
 c.save();
 c.translate(50,400);
 c.rotate(-30/180*pi);
 c.fillText("お！",0,0);
 c.restore();
}
function rinkaku(){
 c.beginPath();
 c.arc(166,135,90,20/180*pi,240/180*pi,true);
 c.lineTo(110,80);
 c.lineTo(110,90);
 c.arc(100,100,10,0,90/180*pi,false);
 c.bezierCurveTo(0,100,0,200,100,200);
 c.quadraticCurveTo(180,200,200,180);
 c.lineWidth=3;
 c.fillStyle="#fee";
 c.fill();
 c.strokeStyle="black";
 c.stroke();
}
function hair(){
 c.beginPath();
 c.arc(166,135,90,240/180*pi,20/180*pi,false);
 c.lineTo(220,150);
 c.quadraticCurveTo(250,100,230,80);
 c.closePath();
 c.fillStyle="black";
 c.fill();
}
function mayuge(){
//mayuge1
 c.beginPath();
 c.arc(130,90,25,220/180*pi,340/180*pi,false);
 c.lineWidth=20;
 c.lineCap="round";
 c.strokeStyle="black";
 c.stroke();
//mayuge2
 c.beginPath();
 c.arc(200,110,25,220/180*pi,340/180*pi,false);
 c.lineWidth=20;
 c.lineCap="round";
 c.strokeStyle="black";
 c.stroke();
}
function mimi(){
 c.beginPath();
 c.moveTo(220,150);
 c.bezierCurveTo(230,140,270,120,250,170);
 c.bezierCurveTo(220,200,200,180,200,180);
 c.fillStyle="#fee";
 c.fill();
 c.lineWidth=3;
 c.strokeStyle="black";
 c.stroke();
}
function futae(){
//futae
 c.beginPath();
 c.arc(130,120,25,220/180*pi,340/180*pi,false);
 c.lineWidth=2;
 c.lineCap="round";
 c.strokeStyle="black";
 c.stroke();
//futae2
 c.beginPath();
 c.arc(190,130,25,220/180*pi,340/180*pi,false);
 c.lineWidth=2;
 c.lineCap="round";
 c.strokeStyle="black";
 c.stroke();
}
function me(){

//me1
 c.beginPath();
 c.arc(130,120,13,0,2*pi,false);   
 c.lineWidth=10;
 c.strokeStyle="black";
 c.stroke();
 //me2
 c.beginPath();
 c.arc(185,135,13,0,2*pi,false);
 c.lineWidth=10;
 c.strokeStyle="black";
 c.stroke();
}
function kuchi(){
 if(f<0.1){
  c.beginPath();
  c.arc(103,190,6,0,2*pi,false);
  c.lineWidth=3;
  c.storokeStyle="black";
  c.stroke(); 
 }else{
  c.beginPath();
  c.moveTo(100,190);
  c.lineTo(105,191);
  c.lineWidth=3;
  c.storokeStyle="black";
  c.stroke();
 }
}