<!DOCTYPE html>
<meta charset=utf-8>
<title>5.アニメーション</title>
<meta name=viewport content="width=device-width">
<style>
*{margin:0px;padding:0px;}
#ml{
	margin:300px auto;
	position:relative;
	transform-style:preserve-3d;
	width:0px;height:0px;
	border:5px solid red;
}

/* 親要素3D */
body{
	transform-style:preserve-3d;
	perspective:300px;}

/* 面共通CSS */
.box{
	width:200px;height:200px;
	background-color:rgba(100,255,100,0.2);
	position:absolute;
	top:-100px;left:-100px;
	border:2px solid rgba(0,0,0,0.7);
	transform-style:preserve-3d;
}
.mL{
	position:absolute;
	background-image:url(mL.png);
	background-size:100%;
	width:200px;height:200px;
	animation:mLStory 7s linear infinite normal;
	animation-fill-mode:both;
	transform:translateZ(20px) rotateZ(0deg);
}
/* キーフレーム */
@keyframes mLStory{
	50%{transform:translateZ(100px) rotateZ(-180deg);}
	100%{transform:translateZ(20px) rotateZ(-360deg);}
}


/* 面個別CSS */
#a{transform:	translateZ(100px);}
#b{transform:	translateZ(-100px)	rotateY(-180deg);}
#c{transform:	translateX(100px)	rotateY(90deg);}
#d{transform:	translateX(-100px)	rotateY(-90deg);}
#e{transform:	translateY(-100px)	rotateX(90deg);}
#f{transform:	translateY(100px) rotateX(-90deg);}

/* アニメーション */
#ml{
	animation:mystory 30s ease-in-out 0s infinite normal;
	animation-fill-mode:both;
}

/* キーフレーム */
@keyframes mystory{
	10%{transform:translateZ(0px) rotateX(0deg) rotateY(0deg);}
	40%{transform:translateZ(280px) rotateX(180deg) rotateY(540deg);}
	60%{transform:translateZ(280px) rotateX(180deg) rotateY(540deg);}
	90%{transform:translateZ(0px) rotateX(360deg) rotateY(1080deg);}
	100%{transform:translateZ(0px) rotateX(360deg) rotateY(1080deg);}
}
</style>

<div id="ml">
	<div id=a class=box><div class=mL></div></div>
	<div id=b class=box><div class=mL></div></div>
	<div id=c class=box><div class=mL></div></div>
	<div id=d class=box><div class=mL></div></div>
	<div id=e class=box><div class=mL></div></div>
	<div id=f class=box><div class=mL></div></div>
</div>
