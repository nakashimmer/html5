<!DOCTYPE html>

<meta charset=utf-8>
<title>CSS3</title>
<meta name=viewport content="width=320px">
<style>
	*{margin:0;padding:0;}
	body{
		text-align:center;
		background-color:#fff;
	}
	#wrap{width:320px;margin:0 auto;background-color:white;
		padding:10px;
	}
	.box{
	/*	box-sizing:border-box; */
		background-color:white;
		margin:50px auto 150px auto;
		width:200px;
		height:200px;
		height:200px;
		line-height:200px;
		font-size:50px;
		transition:
			transform 4s ease-in-out,
			background 2s ease-in-out,
			border 2s ease-in-out,
			box-shadow 2s ease-in-out,
			border-radius 2s ease-in-out,
			box-reflect 2s ease-in-out;
	}
	.photo{
		border:none;
		background: url("mL.png");background-size:cover;
	}
/*4.グラデーション*/
	.gra{
		background:
		linear-gradient(pink,white,skyblue);
	}
/*5.反射*/
	.reflect{
		box-reflect:below 3px linear-gradient(transparent 60%,white); 
	}

	button{
		font-size:20px;height:40px;
		padding:0px;width:3em;
		border:0px solid gray;
		margin-left:4px;margin-top:4px;
		float:left;background-color:gray;color:white;
	}
	.control{width:320px;margin:0 auto;margin:20px auto;}
	.control input{margin-left:100px;}
	#border,#shadow,#radius,#henkei{display:none;}
</style>

<div id=wrap>
	<div id="box" class="box"></div>
	
	<div class=control>
		<button onclick=cgclass("waku")>枠</button>
		<button onclick=cgclass("shadow")>影</button>
		<button onclick=cgclass("radius")>角丸</button>
		<button onclick=cgclass("gra")>階調</button>
		<!--button onclick=cgclass("reflect")>反射</button-->
		<button onclick=cgclass("photo")>画像</button>
		<button onclick=cgclass("henkei")>変形</button>
		<a href="index3d.html"><button>３D</button></a>
		<div style="clear:both;"></div>
	</div>
	
	<div class=control>
		<input class=range type=range id=border min=0 max=100 step=1 value=0>
		<input class=range type=range id=shadow min=-50 max=50 step=10 value=0>
		<input class=range type=range id=radius min=0 max=100 step=10 value=0>
		<input class=range type=range id=henkei min=-360 max=360 step=0 value=0>
	</div>
</div>

<script>
	function $(id){return document.getElementById(id);}

	window.addEventListener("change",function(e){
		e.preventDefault();
		$("box").style.border=$("border").value+"px solid black";
		$("box").style.boxShadow=$("shadow").value+"px "+$("shadow").value+"px "+Math.abs($("shadow").value)+"px gray";
		$("box").style.borderRadius=$("radius").value+"px";
		$("box").style.transform ="rotate("+$("henkei").value+"deg";
	});

	var fshadow=false;
	var fradius=false;
	var fkyu=false;
	var fwaku=false;
	var fgra=false;
	var freflect=false;
	var fhenkei=false;
	var fd3=false;
	var fphoto=false;
	$("box").className="box ";
	
	function cgclass(f){
		if(f=="shadow"){
			if(!fshadow){$("box").className+="shadow ";fshadow=true;
			}else{$("box").className= $("box").className.replace ( /(?:^|\s)shadow(?!\S)/g,'');fshadow=false;}
			ctrl("shadow");
		}
		if(f=="radius"){
			if(!fradius){$("box").className+="radius ";fradius=true;
			}else{$("box").className= $("box").className.replace ( /(?:^|\s)radius(?!\S)/g,'');fradius=false;}
			ctrl("radius");
		}
		if(f=="gra"){
			if(!fgra){$("box").className+="gra ";fgra=true;
			}else{$("box").className= $("box").className.replace ( /(?:^|\s)gra(?!\S)/g,'');fgra=false;}
		}
		if(f=="kyu"){
			if(!fkyu){$("box").className+="kyu ";fkyu=true;
			}else{$("box").className= $("box").className.replace ( /(?:^|\s)kyu(?!\S)/g,'');fkyu=false;}
			
		}
		if(f=="reflect"){
			if(!freflect){$("box").className+="reflect ";freflect=true;
			}else{$("box").className= $("box").className.replace ( /(?:^|\s)reflect(?!\S)/g,'');freflect=false;}
			ctrl("reflect");
		}
		if(f=="henkei"){
			if(!fhenkei){$("box").className+="henkei ";fhenkei=true;
			}else{$("box").className= $("box").className.replace ( /(?:^|\s)henkei(?!\S)/g,'');fhenkei=false;}
			ctrl("henkei");
		}
		if(f=="d3"){
			if(!fd3){
				$("box").className= $("box").className.replace ( /(?:^|\s)henkei(?!\S)/g,'')
				$("box").className+="d3 ";fd3=true;
			}else{$("box").className= $("box").className.replace ( /(?:^|\s)d3(?!\S)/g,'');fd3=false;}
			ctrl("d3");
		}
		if(f=="photo"){
			if(!fphoto){$("box").className+="photo ";fphoto=true;
			}else{$("box").className= $("box").className.replace ( /(?:^|\s)photo(?!\S)/g,'');fphoto=false;}
			ctrl("photo");
		}
		if(f=="waku"){
			if(!fwaku){$("box").className+="waku ";fwaku=true;
			}else{$("box").className= $("box").className.replace ( /(?:^|\s)waku(?!\S)/g,'');fwaku=false;}
			ctrl("border");
		}
	}

	function ctrl(id){
		$("border").style.display="none";
		$("shadow").style.display="none";
		$("radius").style.display="none";
		$("henkei").style.display="none";
		if(id=="border" || id=="shadow" || id=="radius" || id=="henkei"){
			$(id).style.display="block";
		}
	}
</script>
