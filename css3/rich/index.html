<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>リッチなCSS</title>
		<link rel="stylesheet" href="/sample.css">
		<style>
			#wrap{
				display:flex;
			}

			.control{
				display:block;
				width:400px;
				border:1px solid red;
				height:calc(100vh - 8em);
				margin-right:0.2em;
				text-align:center;
				border-collapse:collapse;
				background-color:rgba(255,255,255,0.7);
				overflow:scroll;
			}
			.flex2{
				flex:1;
				z-index:1;
				height:calc(100vh - 10em);
				margin:0;
			}
			
			th{background-color:#eee;}
			th,td{
				border:1px solid gray;
				line-height:1.1em;
				box-sizing:border-box;
			}

			.range{height:1em;border:none;width:60%;}
			.color{height:1em;border:none;width:30%;}

			.h3{width:5em;}
			.h4{width:4em;}
			

			#box{
				margin:calc(40vh - 100px) auto;
				border:10px solid #6666ff;
				width:200px;height:200px;
				transition:all 1s ease;
				background-image:url(mL.png);
				background-size:100% 100%;
			}
			
		</style>
	</head>
	<body>
		<h1>リッチなCSS</h1>
		<div id="wrap">
			<div class="control">
				<!--  -->
				<div>div要素<br>(背景色<input class="color" type="color" id="bgColor" value="#ffffff">)</div>

					<div>横幅 <span id="widthPx">200px</span></div>
					<div><input class="range" type="range" min="0" max="500" value="200" step="10"  id="width"></div>

					<div>縦幅 <span id="heightPx">200px</span></div>
					<div><input class="range" type="range" min="0" max="500" value="200" step="10"  id="height"></div>

				<!--  -->
				<div>border-width</div>
					<div>上 <span id="topPx">10px</span></div>
					<div>
						<input class="range" type="range" min="0" max="100" value="10" step="10" id="top">
						<input class="color" type="color" id="topColor" value="#6666ff">
					</div>

					<div>右 <span id="rightPx">10px</span></div>
					<div>
						<input class="range" type="range" min="0" max="100" value="10" step="10" id="right">
						<input class="color" type="color" id="rightColor" value="#6666ff">
					</div>
				
				
					<div>下 <span id="bottomPx">10px</span></div>
					<div>
						<input class="range" type="range" min="0" max="100" value="10" step="10" id="bottom">
						<input class="color" type="color" id="bottomColor" value="#6666ff">
					</div>

					<div>左 <span id="leftPx">10px</span></div>
					<div>
						<input class="range" type="range" min="0" max="100" value="10" step="102" id="left">
						<input class="color" type="color" id="leftColor" value="#6666ff">
					</div>
				
				<!--  -->
				<div>影<br>box-shadow<br>(背景色<input class=color type=color id=shadowColor value="#999999">)</div>
					<div>左右 <span id=shadowXpx>0px</span></div>
					<div><input class="range" type="range" min=-100 max="100"  value="0"  step="10" id="shadowX"></div>

					<div>上下 <span id=shadowYpx>0px</span></div>
					<div><input class="range" type="range" min=-100 max="100"  value="0"  step="10" id="shadowY"></div>

					<div>ぼかし <span id=shadowBokashipx>0px</span></div>
					<div><input class="range" type="range" min="0"  max="100"  value="0"  step="10" id="shadowBokashi"></div>
			
					<div>大きさ <span id=shadowSizepx>0px</span></div>
					<div><input class="range" type="range" min="0"  max="100"  value="0"  step="10" id="shadowSize"></div>

				<!--  -->
				<div>角の丸み<br>border-radius</div>
					<div>左上 <span id=leftTopPx>0%</span></div>
					<div><input class="range" type="range" min="0"  max="100"  value="0"  step="10" id="leftTop"></div>

					<div>右上 <span id=rightTopPx>0%</span></div>
					<div><input class="range" type="range" min="0"  max="100"  value="0"  step="10" id="rightTop"></div>

					<div>右下 <span id=rightBottomPx>0%</span></div>
					<div><input class="range" type="range" min="0"  max="100"  value="0"  step="10" id="rightBottom"></div>

					<div>左下 <span id=leftBottomPx>0%</span></div>
					<div><input class="range" type="range" min="0"  max="100"  value="0"  step="10" id="leftBottom"></div>

				<!--  -->
				<div>変形<br>transform</div>

					<div>回転<br>rotate</div>
					<div>角度<br><span id=rotateDeg>0deg</span></div>
					<div><input class="range" type="range" min="-180" max="180" value="0"  step="10" id="rotate"></div>

					<div>伸縮<br>scale</div>
						<div>横倍率<br><span id=scaleXN>1倍</span></div>
						<div><input class="range" type="range" min="-3" max="5" value="1" step="1" id="scaleX"></div>

						<div>縦倍率<br><span id=scaleYN>1倍</span></div>
						<div><input class="range" type="range" min="-3" max="5" value="1" step="1" id="scaleY"></div>

					<div>歪み<br>skew</div>
						<div>横歪み<br><span id=skewXPx>0deg</span></div>
						<div><input class="range" type="range" min=-90 max=90 value="0"  step="10" id="skewX"></div>

						<div>縦歪み<br><span id=skewYPx>0deg</span></div>
						<div><input class="range" type="range" min=-90 max=90 value="0"  step="10" id="skewY"></div>

					<div>移動<br>translate</div>
					<div>横移動<br><span id=translateXPx>0px</span></div>
					<div><input class="range" type="range" min="-800" max="800" value="0"  step="10" id="translateX"></div>
		
					<div>縦移動<br><span id=translateYPx>0px</span></div>
					<div><input class="range" type="range" min="-400" max="400" value="0"  step="10" id="translateY"></div>
			</div>
		
			<div class="flex2 sample">
				<div id=box></div>
			</div>
		</div>


		<footer>
			<p><small>(C)<a href="https://tokyoappwork.shop">東京アプリ・ワークショップ</a>・<a href="https://webtechpromo.org">Web技術振興協会</a></small></p>
		</footer>

		<script>

			const BOX = document.getElementById("box");
			const WIDTHPx = document.getElementById("widthPx");
			const HEIGHTPx = document.getElementById("heightPx");

			const TOP = document.getElementById("top");
			const RIGHT = document.getElementById("right");
			const BOTTOM = document.getElementById("bottom");
			const LEFT = document.getElementById("left");

			const TOPColor = document.getElementById("topColor");
			const RIGHTColor = document.getElementById("rightColor");
			const BOTTOMColor = document.getElementById("bottomColor");
			const LEFTColor = document.getElementById("leftColor");

			const SHOADOWX= document.getElementById("shadowX");
			const SHOADOWY = document.getElementById("shadowY");
			const SHOADOWBolashi = document.getElementById("shadowBokashi");
			const SHOADOWColor = document.getElementById("shadowColor");
			
			function el(element,listener){
				$(element).addEventListener("change",listener);
			}
			
			//div要素背景色
			el("bgColor",bgColorChange);
			function bgColorChange(){
				BOX.style.backgroundColor=$("bgColor").value;
			}
			
			//横幅・縦幅 width,height
			el("width",boxSizeChange);
			el("height",boxSizeChange);
			
			function boxSizeChange(){
				BOX.style.width=$("width").value+"px";
				BOX.style.height=$("height").value+"px";
				WIDTHPx.innerHTML=$("width").value+"px";
				HEIGHTPx.innerHTML=$("height").value+"px";
			}
			
			//枠線の太さborderWidth
			el("top",borderWidthChange);
			el("right",borderWidthChange);
			el("left",borderWidthChange);
			el("bottom",borderWidthChange);
			
			function borderWidthChange(){
				BOX.style.borderWidth
					=TOP.value+"px " 
					+RIGHT.value+"px "
					+BOTTOM.value+"px " 
					+LEFT.value+"px";
					
				$("topPx").innerHTML=TOP.value+"px";
				$("rightPx").innerHTML=RIGHT.value+"px";
				$("bottomPx").innerHTML=BOTTOM.value+"px";
				$("leftPx").innerHTML=LEFT.value+"px";
			};
			
			//枠線の色 borderColor
			el("topColor",borderColorChange);
			el("rightColor",borderColorChange);
			el("leftColor",borderColorChange);
			el("bottomColor",borderColorChange);

			function borderColorChange(){
				BOX.style.borderColor
					=TOPColor.value+" "
					+RIGHTColor.value+" "
					+BOTTOMColor.value+" "
					+LEFTColor.value;
			}
			
			//影 boxshadow
			el("shadowX",shadowChange);
			el("shadowY",shadowChange);
			el("shadowBokashi",shadowChange);
			el("shadowSize",shadowChange);
			el("shadowColor",shadowChange);

			function shadowChange(){
				BOX.style.boxShadow=
					SHADOWX.value+"px "
					+SHADOWY.value+"px "
					+SHADOWBokashi.value+"px "
					+SHADOWSize.value+"px "
					+SHADOWColor.value;
				$("shadowXpx").innerHTML=SHADOWX.value+"px";
				$("shadowYpx").innerHTML=SHADOWY.value+"px";
				$("shadowBokashipx").innerHTML=SHADOWBokashi.value+"px";
				$("shadowSizepx").innerHTML=SHADOWSize.value+"px";
			}



			
			//borderRadius
			$("leftTop").addEventListener("change",borderRadiusChange);
			$("rightTop").addEventListener("change",borderRadiusChange);
			$("rightBottom").addEventListener("change",borderRadiusChange);
			$("leftBottom").addEventListener("change",borderRadiusChange);
			
			function borderRadiusChange(){
				BOX.style.borderRadius
					=LEFTTop.value+"% "
					+RIGHTTop.value+"% "
					+RIGHTBottom.value+"% "
					+LEFTBottom.value+"% ";
				$("leftTopPx").innerHTML=$("leftTop").value+"%";
				$("rightTopPx").innerHTML=$("rightTop").value+"%";
				$("rightBottomPx").innerHTML=$("rightBottom").value+"%";
				$("leftBottomPx").innerHTML=$("leftBottom").value+"%";
			}
			
			//---transform---
			$("rotate").addEventListener("change",transformChange);
			$("skewX").addEventListener("change",transformChange);
			$("skewY").addEventListener("change",transformChange);
			$("scaleX").addEventListener("change",transformChange);
			$("scaleY").addEventListener("change",transformChange);
			$("translateX").addEventListener("change",transformChange);
			$("translateY").addEventListener("change",transformChange);
			
			function transformChange(){
				//BOX.style.transform
				var str
				= "skew("+$("skewX").value+"deg,"+$("skewY").value+"deg) " 
				+ "rotate("+$("rotate").value+"deg) "
				+ "scale("+$("scaleX").value+","+$("scaleY").value+") "
				+ "translate("+$("translateX").value+"px,"+$("translateY").value+"px)";
				console.log(str);
				BOX.style.transform = str;
				
				$("rotateDeg").innerHTML=$("rotate").value+"deg";
				$("skewXPx").innerHTML=$("skewX").value+"deg";
				$("skewYPx").innerHTML=$("skewY").value+"deg";
				$("scaleXN").innerHTML=$("scaleX").value+"倍";
				$("scaleYN").innerHTML=$("scaleY").value+"倍";
				$("translateXPx").innerHTML=$("translateX").value+"px";
				$("translateYPx").innerHTML=$("translateY").value+"px";
			}
		
		</script>
	</body>
</html>